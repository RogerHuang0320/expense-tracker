<div class="container mx-10">

  <div class="upper">
    <form action="/">
      <h4 class="mb-2" for="sort">篩選支出類別</h4>
      <select id="sort" name="sort" class="form-control" onchange="form.submit()">
        <option>請選擇類別</option>
        <option value="家居物業">家居物業</option>
        <option value="交通出行">交通出行</option>
        <option value="休閒娛樂">休閒娛樂</option>
        <option value="餐飲食品">餐飲食品</option>
        <option value="其他">其他</option>
      </select>
    </form>
    <div class="mt-2 d-inline-flex">
      <h4>總金額：</h4>
      <div class="fs-1" style="color:#fd7e14">{{totalAmount}}</div>
    </div>
    <div class='mt-3 d-flex justify-content-start'>
      <a class='btn btn-primary' style='background-color: #174480;' href='/records/new'>新增支出</a>
    </div>
  </div>
  <div class="content">
    <ul>
      {{#each records}}
      <li class="list-group-item mt-1">
        <div class="row justify-content-between">

          <div class='col-1 category-icon align-self-center'>
            <i class='{{this.icon}} mx-auto' style='max-width: 30px; font-size: 30px; color: #174480;'></i>
          </div>

          <div class='col d-flex flex-column align-item-center'>
            <span>{{this.name}}</span>
            <span>{{this.date}}</span>
          </div>

          <div class='col d-flex flex-column justify-content-center'>
            ${{this.amount}}
          </div>

          <div class="col-auto">
            <a class="btn btn-success" href="./records/{{ this._id }}/edit">Edit</a>
            <form action="./records/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;">
              <button class="btn btn-danger" type="submit">Delete</button>
            </form>
          </div>
        </div>
      </li>
      {{/each}}
    </ul>
  </div>
</div>